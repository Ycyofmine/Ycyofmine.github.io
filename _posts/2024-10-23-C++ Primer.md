---
title: C++ Primer
date: 2024-10-23 16:10:59 +0800
categories: [C++]
tags: [c++] # TAG names should always be lowercase
media_subpath: /assets/img/C++
---
# 写在前面
有些我认为过于基础，我已经会的东西不会进行记录。

# 第 Ⅰ 部分
## 语句
### TRY语句和异常处理
当程序的某部分检测到一个它无法处理的问题时，就需要用到异常处理。

在C++语言中，异常处理包括：
- **throw**表达式
- **try语句块**，以关键字 `try` 开始，并以一个或多个 `catch` 子句结束。 `try` 语句块中代码抛出的异常通常会被某个catch子句处理。
- **异常类** 用于在 `throw` 表达式和相关的 `catch` 子句间传递异常的具体信息。

#### **throw表达式**
抛出异常将终止当前的函数，类比 `return` 。

#### try语句块
程序进入某个 `try` 语句块，处理异常之后程序会跳到 `try` 语句块最后一个 `catch` 子句之后的语句。

- 函数在寻找处理代码的过程中退出
    
    例如，一个 `try` 语句块可能调用了包含另一个 `try` 语句块的函数，新的 `try` 语句块可能调用了包含又一个 `try` 语句块的新函数，以此类推。

    寻找处理代码的过程与函数调用链刚好相反。当异常被抛出时，首先搜索抛出该异常的函数。如果没找到匹配的 `catch` 子句，终止该函数，并在调用该函数的函数中继续寻
找。如果还是没有找到匹配的 `catch` 子句，这个新的函数也被终止，继续搜索调用它的
函数。以此类推，沿着程序的执行路径逐层回退，直到找到适当类型的 `catch` 子句为止。**类比回溯**

    如果最终还是没能找到任何匹配的 `catch` 子句，程序转到名为 `terminate` 的标准库函数。一般执行该函数将导致程序非正常退出。


##### 编写异常安全的代码非常困难。
---


在异常发生期间正确执行了“清理”工作的代码被称为异常安全的代码，非常难编写。

### 标准异常
![](BFA0C870DE79656C18E4C02F0117C128.png)

异常类型只有一个名为 `what` 的成员函数，没有任何参数，返回值是一个 `const char*` 

